(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{20:function(e,a,t){e.exports=t.p+"static/media/logo.5c0436d5.png"},23:function(e,a,t){e.exports=t(44)},28:function(e,a,t){},29:function(e,a,t){},38:function(e,a,t){},39:function(e,a,t){},40:function(e,a,t){},41:function(e,a,t){},42:function(e,a,t){},43:function(e,a,t){},44:function(e,a,t){"use strict";t.r(a);var n=t(0),c=t.n(n),l=t(19),r=t.n(l),s=(t(28),t(20)),i=t.n(s),o=t(7),u=t(8),m=t(10),d=t(9),h=t(11),p="https://api.udilia.com/coins/v1",E=function(e){return e.json().then(function(a){return console.log(e),e.ok?a:Promise.reject(a)})},g=function(e){return e>0?c.a.createElement("span",{className:"percent-raised"}," ",e," % \u2191 "):e<0?c.a.createElement("span",{className:"percent-fallen"}," ",e," % \u2193 "):c.a.createElement("span",null," ",e," % ")},f=(t(29),t(6)),v=function(e){function a(){var e;return Object(o.a)(this,a),(e=Object(m.a)(this,Object(d.a)(a).call(this))).handleChange=function(a){var t=a.target.value;if(e.setState({searchQuery:t}),!t)return"";e.setState({loading:!0}),fetch("".concat(p,"/autocomplete?searchQuery=").concat(t)).then(E).then(function(a){e.setState({searchResults:a}),e.setState({loading:!1})})},e.handleRedirect=function(a){e.setState({searchQuery:"",searchResults:[]}),e.props.history.push("/currency/".concat(a))},e.renderSearchResults=function(){var a=e.state,t=a.searchResults,n=a.searchQuery,l=a.loading;return n?t.length>0?c.a.createElement("div",{className:"Search-result-container"},t.map(function(a){return c.a.createElement("div",{key:a.id,onClick:function(){return e.handleRedirect(a.id)},className:"Search-result",value:n},a.name,"(",a.symbol,")")})):l?void 0:c.a.createElement("div",{className:"Search-result-container"},c.a.createElement("div",{className:"Search-no-result"},"No results found.")):""},e.state={loading:!1,searchQuery:"",searchResults:[]},e}return Object(h.a)(a,e),Object(u.a)(a,[{key:"render",value:function(){return c.a.createElement("div",{className:"Search"},c.a.createElement("span",{className:"Search-icon"}),c.a.createElement("input",{type:"text",placeholder:"currency name",className:"Search-input",onChange:this.handleChange}),this.renderSearchResults())}}]),a}(c.a.Component),N=Object(f.e)(v),b=t(5),y=function(){return c.a.createElement("div",null,c.a.createElement("div",{className:"Header"},c.a.createElement(b.b,{to:"/"},c.a.createElement("img",{src:i.a,alt:"logo",className:"Header-logo"})),c.a.createElement(N,null)))},k=(t(38),function(){return c.a.createElement("div",{className:"Loading"})}),C=(t(39),Object(f.e)(function(e){return c.a.createElement("div",{className:"Table-container"},c.a.createElement("table",{className:"Table"},c.a.createElement("thead",{className:"Table-head"},c.a.createElement("tr",null,c.a.createElement("th",null," Criptocurrency "),c.a.createElement("th",null," Price "),c.a.createElement("th",null," MarketCap "),c.a.createElement("th",null," 24h / change "))),c.a.createElement("tbody",{className:"Table-body"},e.currencies.map(function(a){return c.a.createElement("tr",{key:a.id,onClick:function(){return e.history.push("/currency/".concat(a.id))}},c.a.createElement("td",null," ",c.a.createElement("span",{className:"Table-rank"}," ",a.rank," ")," ",a.name," "),c.a.createElement("td",null," ",c.a.createElement("span",{className:"Table-dollar"}," $ ")," ",a.price," "),c.a.createElement("td",null," ",c.a.createElement("span",{className:"Table-dollar"}," $  ")," ",a.marketCap," "),c.a.createElement("td",null," ",g(a.percentChange24h)," "))}))))})),S=(t(40),function(e){return c.a.createElement("div",{className:"Pagination"},c.a.createElement("button",{className:"Pagination-button",onClick:function(){return e.handlePaginationClick("prev")},disabled:1===e.page}," \u2190 "),c.a.createElement("span",{className:"Pagination-info"},"page ",c.a.createElement("b",null,e.page)," of ",c.a.createElement("b",null,e.totalPages)),c.a.createElement("button",{className:"Pagination-button",onClick:function(){return e.handlePaginationClick("next")},disabled:e.page===e.totalPages}," \u2192 "))}),P=function(e){function a(){var e;return Object(o.a)(this,a),(e=Object(m.a)(this,Object(d.a)(a).call(this))).handlePaginationClick=function(a){var t=e.state.page;t="next"===a?t+1:t-1,e.setState({page:t},function(){return e.fetchCurrencies()})},e.state={loading:!1,currencies:[],error:"",page:1,totalPages:0},e}return Object(h.a)(a,e),Object(u.a)(a,[{key:"componentDidMount",value:function(){this.fetchCurrencies()}},{key:"fetchCurrencies",value:function(){var e=this,a=this.state.page;this.setState({loading:!0}),fetch("".concat(p,"/cryptocurrencies?page=").concat(a,"&perPage=20")).then(E).then(function(a){e.setState({currencies:a.currencies,totalPages:a.totalPages,loading:!1})}).catch(function(a){e.setState({error:a.errorMessage,loading:!1})})}},{key:"render",value:function(){var e=this.state,a=e.loading,t=e.error,n=e.currencies,l=e.page,r=e.totalPages;return console.log(n),a?c.a.createElement("div",{className:"loading-container"},c.a.createElement(k,null)):t?c.a.createElement("div",null,t):c.a.createElement("div",null,c.a.createElement(C,{currencies:n}),c.a.createElement(S,{page:l,totalPages:r,handlePaginationClick:this.handlePaginationClick}))}}]),a}(c.a.Component),j=(t(41),t(42),function(){return c.a.createElement("div",{className:"NotFound"},c.a.createElement("h1",{className:"NotFound-title"},"Sorry. page not found "),c.a.createElement(b.b,{to:"/",className:"NotFound-link"}," Go Homepage "))}),D=(t(43),function(e){function a(){var e;return Object(o.a)(this,a),(e=Object(m.a)(this,Object(d.a)(a).call(this))).state={loading:!1,currency:{},error:null},e}return Object(h.a)(a,e),Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),fetch("".concat(p,"/cryptocurrencies/").concat(this.props.match.params.id)).then(E).then(function(a){e.setState({currency:a,loading:!1})})}},{key:"render",value:function(){var e=this.state,a=e.currency;return e.loading?c.a.createElement(k,null):(console.log(a),c.a.createElement("div",{className:"Detail"},c.a.createElement("h1",{className:"Detail-heading"}," ",a.name,"(",a.symbol,") "),c.a.createElement("div",{className:"Detail-container"},c.a.createElement("div",{className:"Detail-item"},"Price ",c.a.createElement("span",{className:"Detail-value"}," $ ",a.price," ")),c.a.createElement("div",{className:"Detail-item"},"Rank ",c.a.createElement("span",{className:"Detail-value"},"  ",a.rank," ")),c.a.createElement("div",{className:"Detail-item"},"Change 24h ",c.a.createElement("span",{className:"Detail-value"},g(a.percentChange24h))),c.a.createElement("div",{className:"Detail-item"},c.a.createElement("span",{className:"Detail-title"}," MarketCap "),a.marketCap,c.a.createElement("span",{className:"Detail-dollar"},"$ ")),c.a.createElement("div",{className:"Detail-item"},c.a.createElement("span",{className:"Detail-title"},"TotalSupply "),a.totalSupply,c.a.createElement("span",{className:"Detail-dollar"},"$ ")),c.a.createElement("div",{className:"Detail-item"},c.a.createElement("span",{className:"Detail-title"}," Volume ")," ",a.volume24h))))}}]),a}(c.a.Component));r.a.render(c.a.createElement(function(){return c.a.createElement(b.a,null,c.a.createElement(y,null),c.a.createElement(f.c,null,c.a.createElement(f.a,{path:"/",component:P,exact:!0}),c.a.createElement(f.a,{path:"/currency/:id",component:D,exact:!0}),c.a.createElement(f.a,{component:j,exact:!0})))},null),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.41c7957f.chunk.js.map